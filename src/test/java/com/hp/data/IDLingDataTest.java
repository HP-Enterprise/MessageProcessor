package com.hp.data;

import com.hp.data.bean.landu.IDLingData;
import com.hp.data.util.DataTool;
import org.junit.Test;

/**
 * Created by zxZhang on 15/12/14.
 */
public class IDLingDataTest {
    IDLingData idLingData = new IDLingData();
    DataTool dataTool = new DataTool();

    @Test
    public void TestIDLingDataDecoded(){
        byte[] data = {(byte) 0xAA,0x55 ,0x00 , (byte) 0xD7, (byte) 0xFF,0x28 , (byte) 0xA5,0x05 ,0x16 ,0x08 ,0x49 ,0x4E ,0x43 ,0x41 ,0x52 ,0x31 ,0x30 ,0x30 ,0x30 ,0x30 ,0x39 ,0x31 ,0x39 ,0x35 ,0x32 ,0x31 ,0x00 ,0x00 ,0x00 ,0x07 ,0x08 ,0x36 ,0x34 ,0x00 ,0x4C ,0x53 ,0x47 ,0x4A ,0x53 ,0x35 ,0x32 ,0x55 ,0x36 ,0x34 ,0x53 ,0x31 ,0x31 ,0x33 ,0x32 ,0x35 ,0x32 ,0x00 ,0x32 ,0x30 ,0x31 ,0x35 ,0x2D ,0x31 ,0x32 ,0x2D ,0x31 ,0x34 ,0x20 ,0x31 ,0x35 ,0x3A ,0x35 ,0x39 ,0x3A ,0x32 ,0x38 ,0x00 ,0x00 ,0x00 ,0x16 ,0x00 ,0x00 ,0x31 ,0x34 ,0x2E ,0x35 ,0x35 ,0x00 ,0x00 ,0x01 ,0x30 ,0x00 ,0x00 ,0x02 , (byte) 0xB9, (byte) 0xD8,0x00 ,0x00 ,0x04 ,0x43 ,0x4C ,0x00 ,0x00 ,0x05 ,0x2D ,0x2D ,0x2D ,0x00 ,0x00 ,0x06 ,0x32 ,0x2E ,0x34 ,0x00 ,0x00 ,0x07 ,0x38 ,0x38 ,0x00 ,0x00 ,0x08 ,0x30 ,0x2E ,0x38 ,0x00 ,0x00 ,0x0A ,0x32 ,0x2E ,0x33 ,0x00 ,0x00 ,0x11 ,0x33 ,0x33 ,0x00 ,0x00 ,0x12 ,0x37 ,0x39 ,0x35 ,0x00 ,0x00 ,0x13 ,0x30 ,0x00 ,0x00 ,0x14 ,0x34 ,0x00 ,0x00 ,0x15 ,0x32 ,0x35 ,0x00 ,0x00 ,0x17 ,0x30 ,0x2E ,0x30 ,0x00 ,0x00 ,0x19 ,0x4F ,0x32 ,0x53 ,0x31 ,0x32 ,0x20 ,0x7C ,0x20 ,0x4F ,0x32 ,0x53 ,0x31 ,0x31 ,0x00 ,0x00 ,0x1A ,0x30 ,0x2E ,0x37 ,0x32 ,0x30 ,0x00 ,0x00 ,0x1B ,0x31 ,0x2E ,0x36 ,0x00 ,0x00 ,0x1C ,0x30 ,0x2E ,0x38 ,0x37 ,0x35 ,0x00 ,0x00 ,0x4A ,0x4F ,0x42 ,0x44 ,0x20 ,0x49 ,0x49 ,0x00 ,0x00 ,0x7E ,0x30 ,0x00 ,0x00 ,0x7F ,0x30 ,0x2E ,0x30 ,0x30 ,0x30 ,0x00 ,0x21 , (byte) 0xE7};
        dataTool.checkSum(data);
        IDLingData i = idLingData.decoded(data);
        i.print();
    }

    @Test
    public void TestIDLingDataEncoded(){
        idLingData.setPackageID((byte) 0xA5);

        idLingData.setObdID("INCAR10000919521");
        idLingData.setTripID(1800);
        idLingData.setVID("64");
        idLingData.setVIN("LSGJS52U64S113252");
        idLingData.setGainDataTime("2015-12-14 15:59:28");
        idLingData.setFaultCodeNum((byte) 0x03);
        String[] code = {"a","b","c"};
        String[] attribute = {"a","b","c"};
        String[] msg = {"a","b","c"};
        idLingData.setFaultCode(code);
        idLingData.setFaultCodeAttribute(attribute);
        idLingData.setFaultMsg(msg);

        idLingData.setDataStreamNum(4);
        int[] ids = {0,1,74,25 };
        String[] s = {"14.55","0","OBD II","O2S12 | O2S11"};
        idLingData.setDataStreamID(ids);
        idLingData.setDataStreamMsg(s);

        byte[] data = idLingData.encoded();
        System.out.println(dataTool.bytes2hex(data));
    }

    @Test
    public void TestLoop(){
        idLingData.setPackageID((byte) 0xA5);

        idLingData.setObdID("INCAR10000919521");
        idLingData.setTripID(1800);
        idLingData.setVID("64");
        idLingData.setVIN("LSGJS52U64S113252");
        idLingData.setGainDataTime("2015-12-14 15:59:28");
        idLingData.setFaultCodeNum((byte) 0x00);
        String[] code = {};
        String[] attribute = {};
        String[] msg = {};
        idLingData.setFaultCode(code);
        idLingData.setFaultCodeAttribute(attribute);
        idLingData.setFaultMsg(msg);

        idLingData.setDataStreamNum(4);
        int[] ids = {0,1,74,25 };
        String[] s = {"14.55","0","OBD II","O2S12 | O2S11"};
        idLingData.setDataStreamID(ids);
        idLingData.setDataStreamMsg(s);

        byte[] data = idLingData.encoded();
        System.out.println(dataTool.bytes2hex(data));
        IDLingData i = idLingData.decoded(data);
        i.print();
    }
}
