package com.hp.data;

import com.hp.data.bean.landu.PositionData;
import com.hp.data.util.DataTool;
import org.junit.Test;

/**
 * Created by zxZhang on 2015/12/11.
 */
public class PositionDataTest {
    PositionData positionData = new PositionData();
    DataTool dataTool = new DataTool();

    @Test
    public void TestPositionDataDecoded(){
        byte[] data ={(byte)0xAA ,0x55 ,0x01 ,(byte)0xE4 ,(byte)0xFE ,0x1B ,0x29 ,0x05 ,0x16 ,0x06 ,0x49 ,0x4E ,0x43 ,0x41 ,0x52 ,0x31 ,0x30 ,0x30 ,0x30 ,0x30 ,0x35 ,0x31 ,0x34 ,0x34 ,0x36 ,0x38
                ,0x00 ,0x00 ,0x00 ,0x07 ,(byte)0xCC ,0x36 ,0x37 ,0x00 ,0x00 ,0x00 ,0x08 ,0x39 ,0x00 ,0x34 ,0x32 ,0x31 ,0x38 ,0x00 ,0x45 ,0x31 ,0x31 ,0x36 ,0x2E ,0x34 ,0x39 ,0x30 ,0x37
                ,0x30 ,0x33 ,0x2C ,0x4E ,0x33 ,0x39 ,0x2E ,0x39 ,0x36 ,0x32 ,0x37 ,0x30 ,0x35 ,0x2C ,0x32 ,0x35 ,0x2C ,0x32 ,0x30 ,0x31 ,0x35 ,0x2D ,0x31 ,0x32 ,0x2D ,0x31 ,0x31
                ,0x20 ,0x30 ,0x30 ,0x3A ,0x32 ,0x39 ,0x3A ,0x35 ,0x32 ,0x2C ,0x32 ,0x00 ,0x31 ,0x39 ,0x00 ,0x34 ,0x33 ,0x31 ,0x39 ,0x00 ,0x45 ,0x31 ,0x31 ,0x36 ,0x2E ,0x34 ,0x38
                ,0x39 ,0x30 ,0x38 ,0x30 ,0x2C ,0x4E ,0x33 ,0x39 ,0x2E ,0x39 ,0x36 ,0x31 ,0x34 ,0x32 ,0x34 ,0x2C ,0x32 ,0x35 ,0x2C ,0x32 ,0x30 ,0x31 ,0x35 ,0x2D ,0x31 ,0x32 ,0x2D
                ,0x31 ,0x31 ,0x20 ,0x30 ,0x30 ,0x3A ,0x33 ,0x31 ,0x3A ,0x31 ,0x34 ,0x2C ,0x32 ,0x00 ,0x33 ,0x31 ,0x00 ,0x34 ,0x34 ,0x32 ,0x37 ,0x00 ,0x45 ,0x31 ,0x31 ,0x36 ,0x2E
                ,0x34 ,0x38 ,0x37 ,0x32 ,0x34 ,0x32 ,0x2C ,0x4E ,0x33 ,0x39 ,0x2E ,0x39 ,0x35 ,0x39 ,0x37 ,0x35 ,0x32 ,0x2C ,0x32 ,0x35 ,0x2C ,0x32 ,0x30 ,0x31 ,0x35 ,0x2D ,0x31
                ,0x32 ,0x2D ,0x31 ,0x31 ,0x20 ,0x30 ,0x30 ,0x3A ,0x33 ,0x31 ,0x3A ,0x33 ,0x30 ,0x2C ,0x32 ,0x00 ,0x31 ,0x31 ,0x00 ,0x34 ,0x35 ,0x32 ,0x38 ,0x00 ,0x45 ,0x31 ,0x31
                ,0x36 ,0x2E ,0x34 ,0x38 ,0x37 ,0x31 ,0x33 ,0x32 ,0x2C ,0x4E ,0x33 ,0x39 ,0x2E ,0x39 ,0x35 ,0x39 ,0x36 ,0x34 ,0x35 ,0x2C ,0x32 ,0x35 ,0x2C ,0x32 ,0x30 ,0x31 ,0x35
                ,0x2D ,0x31 ,0x32 ,0x2D ,0x31 ,0x31 ,0x20 ,0x30 ,0x30 ,0x3A ,0x33 ,0x31 ,0x3A ,0x35 ,0x31 ,0x2C ,0x32 ,0x00 ,0x33 ,0x39 ,0x00 ,0x34 ,0x36 ,0x34 ,0x34 ,0x00 ,0x45
                ,0x31 ,0x31 ,0x36 ,0x2E ,0x34 ,0x38 ,0x37 ,0x30 ,0x36 ,0x36 ,0x2C ,0x4E ,0x33 ,0x39 ,0x2E ,0x39 ,0x35 ,0x39 ,0x39 ,0x39 ,0x39 ,0x2C ,0x32 ,0x35 ,0x2C ,0x32 ,0x30
                ,0x31 ,0x35 ,0x2D ,0x31 ,0x32 ,0x2D ,0x31 ,0x31 ,0x20 ,0x30 ,0x30 ,0x3A ,0x33 ,0x33 ,0x3A ,0x30 ,0x32 ,0x2C ,0x32 ,0x00 ,0x31 ,0x38 ,0x00 ,0x34 ,0x37 ,0x35 ,0x35
                ,0x00 ,0x45 ,0x31 ,0x31 ,0x36 ,0x2E ,0x34 ,0x38 ,0x36 ,0x32 ,0x33 ,0x30 ,0x2C ,0x4E ,0x33 ,0x39 ,0x2E ,0x39 ,0x35 ,0x39 ,0x31 ,0x35 ,0x38 ,0x2C ,0x32 ,0x35 ,0x2C
                ,0x32 ,0x30 ,0x31 ,0x35 ,0x2D ,0x31 ,0x32 ,0x2D ,0x31 ,0x31 ,0x20 ,0x30 ,0x30 ,0x3A ,0x33 ,0x33 ,0x3A ,0x32 ,0x30 ,0x2C ,0x32 ,0x00 ,0x31 ,0x34 ,0x00 ,0x34 ,0x38
                ,0x35 ,0x37 ,0x00 ,0x45 ,0x31 ,0x31 ,0x36 ,0x2E ,0x34 ,0x38 ,0x35 ,0x32 ,0x36 ,0x36 ,0x2C ,0x4E ,0x33 ,0x39 ,0x2E ,0x39 ,0x35 ,0x38 ,0x30 ,0x32 ,0x37 ,0x2C ,0x32
                ,0x35 ,0x2C ,0x32 ,0x30 ,0x31 ,0x35 ,0x2D ,0x31 ,0x32 ,0x2D ,0x31 ,0x31 ,0x20 ,0x30 ,0x30 ,0x3A ,0x33 ,0x34 ,0x3A ,0x32 ,0x37 ,0x2C ,0x32 ,0x00 ,0x31 ,0x35 ,0x00
                ,0x34 ,0x39 ,0x36 ,0x30 ,0x00 ,0x45 ,0x31 ,0x31 ,0x36 ,0x2E ,0x34 ,0x38 ,0x33 ,0x37 ,0x35 ,0x35 ,0x2C ,0x4E ,0x33 ,0x39 ,0x2E ,0x39 ,0x35 ,0x37 ,0x36 ,0x39 ,0x37
                ,0x2C ,0x32 ,0x35 ,0x2C ,0x32 ,0x30 ,0x31 ,0x35 ,0x2D ,0x31 ,0x32 ,0x2D ,0x31 ,0x31 ,0x20 ,0x30 ,0x30 ,0x3A ,0x33 ,0x36 ,0x3A ,0x34 ,0x36 ,0x2C ,0x32 ,0x00 ,0x5B ,(byte)0xE0 };
        PositionData p = positionData.decoded(data);
        p.print();
    }

    @Test
    public void TestPositionDataEncoded(){
        positionData.setPackageID((byte) 0x01);

        positionData.setObdID("NB1");
        positionData.setTripID(23);
        positionData.setVID("123456");
        positionData.setVIN("123456");
        positionData.setLocationNum(3);

        String[] speeds = {"80","80","80"};
        String[] currentDriveDistances = {"1203","1203","1203"};
        String[] longitudes = {"E123.008122","E123.008122","E123.008122"};
        String[] latitudes = {"N11.321234","N11.321234","N11.321234"};
        String[] directs = {"30","30","30"};
        String[] positionTimes = {"2015-12-03 16:12:30","2015-12-03 16:12:30","2015-12-03 16:12:30"};
        String[] positionMethods = {"2","2","2"};
        positionData.setSpeed(speeds);
        positionData.setCurrentDriveDistance(currentDriveDistances);
        positionData.setLongitude(longitudes);
        positionData.setLatitude(latitudes);
        positionData.setDirect(directs);
        positionData.setPositionTime(positionTimes);
        positionData.setPositionMethod(positionMethods);

        byte[] data = positionData.encoded();//205个：AA 55 00 CB FF 34 01 05 16 06 4E 42 31 00 00 00 00 17 31 32 33 34 35 36 00 31 32 33 34 35 36 00 00 03 38 30 00 31 32 30 33 00 45 31 32 33 2E 30 30 38 31 32 32 2C 4E 31 31 2E 33 32 31 32 33 34 2C 33 30 2C 32 30 31 35 2D 31 32 2D 30 33 20 31 36 3A 31 32 3A 33 30 2C 32 00 38 30 00 31 32 30 33 00 45 31 32 33 2E 30 30 38 31 32 32 2C 4E 31 31 2E 33 32 31 32 33 34 2C 33 30 2C 32 30 31 35 2D 31 32 2D 30 33 20 31 36 3A 31 32 3A 33 30 2C 32 00 38 30 00 31 32 30 33 00 45 31 32 33 2E 30 30 38 31 32 32 2C 4E 31 31 2E 33 32 31 32 33 34 2C 33 30 2C 32 30 31 35 2D 31 32 2D 30 33 20 31 36 3A 31 32 3A 33 30 2C 32 00 00 C9
        System.out.println(dataTool.bytes2hex(data));
    }

    @Test
    public void TestLoop(){
        positionData.setPackageID((byte) 0x01);

        positionData.setObdID("NB1");
        positionData.setTripID(23);
        positionData.setVID("123456");
        positionData.setVIN("123456");
        positionData.setLocationNum(3);

        String[] speeds = {"80","80","80"};
        String[] currentDriveDistances = {"1203","1203","1203"};
        String[] longitudes = {"E123.008122","E123.008122","E123.008122"};
        String[] latitudes = {"N11.321234","N11.321234","N11.321234"};
        String[] directs = {"30","30","30"};
        String[] positionTimes = {"2015-12-03 16:12:30","2015-12-03 16:12:30","2015-12-03 16:12:30"};
        String[] positionMethods = {"2","2","2"};
        positionData.setSpeed(speeds);
        positionData.setCurrentDriveDistance(currentDriveDistances);
        positionData.setLongitude(longitudes);
        positionData.setLatitude(latitudes);
        positionData.setDirect(directs);
        positionData.setPositionTime(positionTimes);
        positionData.setPositionMethod(positionMethods);

        byte[] data = positionData.encoded();
        System.out.println(dataTool.bytes2hex(data));
        PositionData p = positionData.decoded(data);
        p.print();
    }
}
